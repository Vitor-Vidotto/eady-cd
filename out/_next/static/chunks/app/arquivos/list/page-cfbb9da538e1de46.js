(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{793:(e,s,t)=>{Promise.resolve().then(t.bind(t,1126))},1126:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),l=t(2115),r=t(2094),i=t(7623),n=t(7044);let c=()=>{let[e,s]=(0,l.useState)(""),[t,c]=(0,l.useState)(""),[o,d]=(0,l.useState)([]),[x,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),[b,f]=(0,l.useState)([]),j=e=>{f(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},v=async()=>{try{let e=await (0,i.ho)({directory:!0});e&&s(e)}catch(e){u("Erro ao abrir o seletor de diret\xf3rios: "+(e instanceof Error?e.message:String(e)))}},y=async()=>{if(!e){u("Por favor, selecione um diret\xf3rio.");return}try{let s=b.length?b:null,t=(await (0,r.lA)("list_files_in_directory",{directory:e,extensions:s})).map(e=>{var s,t;let a=null!==(t=null!==(s=e.extension)&&void 0!==s?s:e.name.split(".").pop())&&void 0!==t?t:null;return{...e,extension:a}});d(t),h(!0),u("")}catch(e){u("Erro ao listar arquivos: "+(e instanceof Error?e.message:String(e)))}};async function N(){try{let e=o.map(e=>{var s,t,a;let l=e.name.replace(/\.[^/.]+$/,"");return"".concat(l,"	").concat(null!==(s=e.extension)&&void 0!==s?s:"N/A","	").concat(e.size," bytes	").concat(null!==(t=e.created_at)&&void 0!==t?t:"N/A","	").concat(null!==(a=e.modified_at)&&void 0!==a?a:"N/A")}),s=["Nome	Extens\xe3o	Tamanho	Criado em	Modificado em",...e].join("\n"),t=await window.showSaveFilePicker({suggestedName:"arquivos_listados.txt",types:[{description:"Texto",accept:{"text/plain":[".txt"]}}]}),a=await t.createWritable(),l=new TextEncoder().encode(s);await a.write(l),await a.close(),alert("Arquivo salvo com sucesso!")}catch(e){console.error("Erro ao salvar o arquivo:",e),alert("Erro ao salvar o arquivo")}}return(0,a.jsx)("div",{className:"flex items-center justify-center bg-gray-100 p-8",children:(0,a.jsxs)("div",{className:"max-w-lg w-full bg-white shadow-xl rounded-lg p-8",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold text-center text-black mb-6",children:"Listar Arquivos"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"directory-input",className:"block text-lg font-medium text-gray-900",children:"Caminho do Diret\xf3rio:"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("input",{id:"directory-input",type:"text",value:e,onChange:e=>s(e.currentTarget.value),placeholder:"Digite o caminho do diret\xf3rio...",className:"w-full mt-2 p-3 border text-gray-900 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{onClick:v,className:"ml-2 px-4 py-2 bg-gray-300 rounded-lg text-black hover:bg-gray-400 focus:outline-none",children:"..."})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-lg font-medium text-gray-900",children:"Filtrar por Extens\xf5es:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:["pdf","dwg","docx","xlsx","pptx","txt","jpg","png"].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"ext-".concat(e),value:e,checked:b.includes(e),onChange:()=>j(e),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("label",{htmlFor:"ext-".concat(e),className:"text-gray-900",children:[".",e]})]},e))})]}),(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("button",{onClick:y,className:"w-full py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Listar Arquivos"})}),m&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-green-500 font-medium mb-4",children:"Listagem conclu\xedda com sucesso!"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-gray-300 rounded-lg text-black hover:bg-gray-400 focus:outline-none",children:"Visualizar"}),(0,a.jsx)("button",{onClick:N,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none",children:"Salvar"})]})]}),x&&(0,a.jsx)("p",{className:"text-red-500",children:x}),(0,a.jsx)(n.A,{}),p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full",children:[(0,a.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Detalhes dos Arquivos"}),(0,a.jsx)("div",{className:"overflow-y-auto max-h-80",children:(0,a.jsxs)("table",{className:"table-auto w-full text-left text-sm text-gray-700",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2",children:"Nome"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Extens\xe3o"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Tamanho"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Criado em"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Modificado em"})]})}),(0,a.jsx)("tbody",{children:o.map((e,s)=>{var t,l,r;return(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,a.jsx)("td",{className:"px-4 py-2",children:null!==(t=e.extension)&&void 0!==t?t:"N/A"}),(0,a.jsxs)("td",{className:"px-4 py-2",children:[e.size," bytes"]}),(0,a.jsx)("td",{className:"px-4 py-2",children:null!==(l=e.created_at)&&void 0!==l?l:"N/A"}),(0,a.jsx)("td",{className:"px-4 py-2",children:null!==(r=e.modified_at)&&void 0!==r?r:"N/A"})]},s)})})]})}),(0,a.jsx)("div",{className:"flex justify-end mt-4",children:(0,a.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-300 rounded-lg text-black hover:bg-gray-400 focus:outline-none",children:"Fechar"})})]})})]})})};var o=t(2599);function d(){return(0,a.jsx)("div",{className:"grid grid-rows-[auto_1fr_auto] items-center justify-items-center h-screen p-8 pb-20 gap-16 sm:p-20 overflow-hidden",children:(0,a.jsxs)("main",{className:"flex flex-col gap-8 items-center sm:items-start",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)(c,{})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[711,297,320,441,517,358],()=>s(793)),_N_E=e.O()}]);