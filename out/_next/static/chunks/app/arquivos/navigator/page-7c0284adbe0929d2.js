(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{1800:(e,r,o)=>{Promise.resolve().then(o.bind(o,8833))},8833:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>u});var t=o(5155),a=o(2115),s=o(2094),i=o(7623),l=o(3476),n=o(7044);let c=()=>{let[e,r]=(0,a.useState)(""),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(2),p=async(e,r)=>{try{console.log("Buscando arquivos para o diret\xf3rio:",e);let o=await (0,s.lA)("list_files",{diretorio:e,profundidade:r});console.log("Arquivos retornados:",o);let t=o.map(e=>({nome:e.nome,tipo:e.tipo,caminho:e.caminho,conteudo:"directory"===e.tipo?[]:void 0,aberto:!1}));c(t)}catch(e){console.error("Erro ao listar arquivos:",e)}},x=async e=>{if(!e.conteudo||0===e.conteudo.length){let r=(await (0,s.lA)("list_files",{diretorio:e.caminho,profundidade:m})).map(e=>({nome:e.nome,tipo:e.tipo,caminho:e.caminho,conteudo:"directory"===e.tipo?[]:void 0,aberto:!1}));e.conteudo=r,c(r=>r.map(r=>r.caminho===e.caminho?e:r))}},g=e=>{e.aberto=!e.aberto,c([...o]),e.aberto&&x(e)},b=async e=>{try{await (0,s.lA)("open_in_explorer",{path:e})}catch(e){console.log("Erro ao abrir no explorador",e)}},v=e=>{var r,o;let t=e.nome.toLowerCase().includes(d.toLowerCase());return"directory"===e.tipo&&e.conteudo&&(e.conteudo=e.conteudo.filter(v)),t||"directory"===e.tipo&&(null!==(o=null===(r=e.conteudo)||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},f=o.filter(v),y=e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>g(e),className:"text-blue-500 cursor-pointer",children:["directory"===e.tipo?"\uD83D\uDCC2":"\uD83D\uDCC4"," ",e.nome]}),(0,t.jsx)("button",{onClick:()=>b(e.caminho),className:"text-green-500 cursor-pointer ml-2",children:"\uD83C\uDF0D"})]}),"directory"===e.tipo&&e.aberto&&e.conteudo&&(0,t.jsx)("div",{className:"ml-4 space-y-2",children:e.conteudo.map(e=>y(e))})]},e.caminho),j=async()=>{try{let e=await (0,i.ho)({multiple:!1,directory:!0});e&&r(e)}catch(e){console.error("Erro ao abrir o seletor de diret\xf3rios:",e)}};return(0,t.jsxs)("div",{className:"p-6 min-h-screen space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)(l.A,{directory:e,setDirectory:r,selectDirectory:j,buttonText:"..."}),(0,t.jsx)("button",{onClick:()=>{e?p(e,m):alert("Por favor, insira um diret\xf3rio v\xe1lido.")},className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg hover:shadow-xl transition-transform transform hover:scale-105",children:"Buscar Diret\xf3rio"})]}),(0,t.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,t.jsx)("label",{htmlFor:"profundidade",className:"text-gray-700",children:"Profundidade da Busca:"}),(0,t.jsx)("input",{id:"profundidade",type:"number",value:m,min:1,onChange:e=>h(Number(e.target.value)),className:"w-16 p-2 border rounded-lg"})]}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>{u(e.target.value)},placeholder:"\uD83D\uDD0D Filtrar arquivos...",className:"w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none shadow-sm"}),(0,t.jsx)(n.A,{}),o.length>0&&(0,t.jsxs)("div",{className:"relative bg-white p-4 rounded-lg shadow-xl border border-gray-300",children:[(0,t.jsx)("button",{onClick:()=>{c([]),u("")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-700 transition-all",children:"❌"}),(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Arquivos e Pastas"}),(0,t.jsx)("div",{className:"max-h-[40vh] overflow-y-auto space-y-2 border-t border-gray-200 pt-2",children:f.map(e=>y(e))})]})]})};var d=o(2599);function u(){return(0,t.jsx)("div",{className:"grid grid-rows-[auto_1fr_auto] items-center justify-items-center h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)] overflow-hidden",children:(0,t.jsxs)("main",{className:"flex flex-col gap-8 items-center sm:items-start",children:[(0,t.jsx)(d.A,{}),(0,t.jsx)("div",{children:(0,t.jsx)(c,{})})]})})}},3476:(e,r,o)=>{"use strict";o.d(r,{A:()=>a});var t=o(5155);o(2115);let a=e=>{let{directory:r,setDirectory:o,selectDirectory:a,label:s="Caminho do Diret\xf3rio:",placeholder:i="Digite o caminho do diret\xf3rio...",buttonText:l="..."}=e;return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"directory-input",className:"block min-w-96 text-lg font-medium text-gray-900",children:s}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("input",{id:"directory-input",type:"text",value:r,onChange:e=>o(e.currentTarget.value),placeholder:i,className:"w-full mt-2 text-gray-700 p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("button",{onClick:a,className:"ml-2 px-4 py-2 bg-gray-300 rounded-lg text-black hover:bg-gray-400 focus:outline-none",children:l})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[711,297,320,441,517,358],()=>r(1800)),_N_E=e.O()}]);